# Session Management Service Configuration for Development Environment

server:
  port: 0  # Dynamic port assignment

# EV Charging Business Configuration - Development Values
chargeroute:
  session:
    # Development - shorter durations for testing
    max-duration-minutes: 60       # 1 hour max for dev testing
    idle-timeout-minutes: 5        # Shorter idle timeout for dev
    charge-rate-kwh: 50.0          # Lower charge rate for dev
    auto-start-enabled: true
    auto-stop-on-full: true
    pricing:
      # Development pricing - lower costs
      per-kwh-rate: 0.15
      per-minute-rate: 0.03
      idle-fee-per-minute: 0.05
      minimum-charge-amount: 1.00  # Lower minimum for testing
    monitoring:
      status-update-interval-seconds: 5  # Frequent updates for dev
      energy-meter-precision: 0.01
      temperature-monitoring-enabled: true
      alert-on-anomaly: true
    integration:
      # Development - external service timeouts
      payment-service-timeout-ms: 2000
      notification-service-timeout-ms: 1000
      user-service-timeout-ms: 1500

# Service-to-Service Communication
integration:
  services:
    user-management:
      base-url: http://user-management-service
      timeout-ms: 1500
    charge-unit-management:
      base-url: http://charge-unit-management-service  
      timeout-ms: 2000
    notification-management:
      base-url: http://notification-management-service
      timeout-ms: 1000

# Eureka Client Configuration
eureka:
  client:
    service-url:
      defaultZone: http://chargeroute:Admin123!@localhost:8761/eureka/
    fetch-registry: true
    register-with-eureka: true
  instance:
    prefer-ip-address: true
    instance-id: ${spring.application.name}:${spring.application.instance_id:${random.value}}
    # Development - faster heartbeat
    lease-renewal-interval-in-seconds: 5
    lease-expiration-duration-in-seconds: 10

# Data persistence will be added in the persistence chapter

# Development logging
logging:
  level:
    com.chargeroute.session: DEBUG
    org.springframework.web: DEBUG